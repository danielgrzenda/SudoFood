{% extends 'base.html' %}

{% block head %}
  {{ super() }}
  {% include 'google_analytics.html' %}
{% endblock %}

{%- block styles %}
<link href="{{bootstrap_find_resource('css/bootstrap.css', cdn='bootstrap')}}" rel="stylesheet">
<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
<title>SudoFood - Enter Recipe</title>

    <!-- Bootstrap core CSS -->
    <link href="{{url_for('static', filename='vendor/bootstrap/css/bootstrap.min.css')}}" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="{{url_for('static', filename='css/modern-business.css')}}" rel="stylesheet">


{%- endblock styles %}

{% include "header.html" %}

{% block content %}
{% if similar == None %}
<div class="container">
    <div class="row">
        <div class="col-lg-8 mb-4">
          <h3>Enter A Recipe</h3>
          <form action="" method="post">
            {{ form.hidden_tag() }}
            <div class="control-group form-group">
              <div class="controls">
                <label>Recipe Title:</label>
                <p>
                  <!--{{ form.title.label }}-->
                  {{ form.title(size=100) }} <br>
                  {% for error in form.title.errors %}
                  <span style="color:red;">[{{ errror }}]</span>
                  {% endfor %}
                </p>
                <p class="help-block"></p>
              </div>
            </div>
            <div class="control-group form-group">
              <div class="controls">
                <label>Number of Servings:</label>
              <p>
            <!--{{ form.servings.label }} <br>-->
                {{ form.servings(size=5) }} <br>
                {% for error in form.servings.errors %}
                <span style="color:red;">[{{ error }}]</span>
                {% endfor %}
              </p>
              </div>
            </div>
            <div class="control-group form-group">
              <div class="controls">
                <label>Ingredients:</label>
              </div>
              <p>
               <!--{{ form.ingredients.label }} <br>-->
                {{ form.ingredients(cols="100",rows="10") | safe }} <br>
                {% for error in form.ingredients.errors %}
                <span style="color:red;">[{{ error }}]</span>
                {% endfor %}
             </p>
            </div>
            <div id="success"></div>
            <!-- For success/fail messages -->
            {{ form.submit() }}
          </form>
        </div>

      </div>

    </div>
{% else %}
<div class="container">

      <!-- Page Heading/Breadcrumbs -->
      <h1 class="mt-4 mb-3"> Recipe Suggestions
      </h1>
      <div class="container">
        <div class="row">
        <div class="col-lg-6 portfolio-item">
          <div class="card h-75">
            <div class="card-body">
          <h4>Edit Your Recipe</h4>
          <form action="" method="post">
            {{ form.hidden_tag() }}
            <div class="control-group form-group">
              <div class="controls">
                <label>Recipe Title:</label>
                <p>
                  <!--{{ form.title.label }}-->
                  {{ form.title(size=50) }} <br>
                  {% for error in form.title.errors %}
                  <span style="color:red;">[{{ errror }}]</span>
                  {% endfor %}
                </p>
                <p class="help-block"></p>
              </div>
            </div>
            <div class="control-group form-group">
              <div class="controls">
                <label>Number of Servings:</label>
              <p>
            <!--{{ form.servings.label }} <br>-->
                {{ form.servings(size=5) }} <br>
                {% for error in form.servings.errors %}
                <span style="color:red;">[{{ error }}]</span>
                {% endfor %}
              </p>
              </div>
            </div>
            <div class="control-group form-group">
              <div class="controls">
                <label>Ingredients:</label>
              </div>
              <p>
               <!--{{ form.ingredients.label }} <br>-->
                {{ form.ingredients(cols="50",rows="10") | safe }} <br>
                {% for error in form.ingredients.errors %}
                <span style="color:red;">[{{ error }}]</span>
                {% endfor %}
             </p>
            </div>
            <div id="success"></div>
            <!-- For success/fail messages -->
            {{ form.submit() }}
          </form>
        </div>
          </div>
          </div>

        <div class="col-lg-3 col-md-4 col-sm-6 portfolio-item">
            {% for item in similar[0:2] %}
          <div class="card h-50">
            <a href="#"><img class="card-img-top" src="http://placehold.it/700x400" alt=""></a>
            <div class="card-body">
               <h4 class="card-title">
                <h5>{{ item[0] }}</h5>
              </h4>
              <p class="card-text">
                Calories: {{ item[1]*item[2] }}<br>
                Servings: {{ item[2] }} <br>
                  <!--
                  Ingredients:
                  {% for ing in item[3] %}
                    {{ ing }},
                  {% endfor %}
                  -->
                </p>
            </div>
            <div class="card-footer">
              <a class="portfolio-link" data-toggle="modal" href="#1" >Full Recipe</a>
            </div>
          </div>

            <div class="portfolio-modal modal fade" id="1" tabindex="-1" role="dialog" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                         <div class="modal-header">
                            <h5 class="modal-title" id="1">{{ item[0] }}</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                            </button>
                         </div>
                        <div class="modal-body">
                            <ul class="list-inline">
                                <li>Calories: {{ item[1]*item[2] }}</li>
                                <li>Servings: {{ item[2] }}</li>
                                <li>Ingredients:</li>
                                {% for ing in item[3] %}
                                    <li>{{ ing }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                  <button class="btn btn-primary" data-dismiss="modal" type="button">
                    <i class="fa fa-times"></i>
                    Close Recipe</button>
                    </div>
                </div>
            </div>




{% endfor %}
        </div>
            <div class="col-lg-3 col-md-4 col-sm-6 portfolio-item">
            {% for item in similar[2:4] %}
          <div class="card h-50">
            <a href="#"><img class="card-img-top" src="http://placehold.it/700x400" alt=""></a>
            <div class="card-body">
               <h4 class="card-title">
                <h5>{{ item[0] }}</h5>
              </h4>
              <p class="card-text">
                Calories: {{ item[1]*item[2] }}<br>
                Servings: {{ item[2] }} <br>
                  <!--
                  Ingredients:
                  {% for ing in item[3] %}
                    {{ ing }},
                  {% endfor %}
                  -->
                </p>
            </div>
            <div class="card-footer">
              <a href="#" class="btn btn-primary">Full Recipe</a>
            </div>
          </div>
{% endfor %}
        </div>

  </div>


      </div>
    </div>
<div id="dropDownSelect1"></div>
{% endif %}
<footer class="py-5 bg-dark">
      <div class="container">
        <p class="m-0 text-center text-white">Copyright &copy; SudoFood 2018</p>
      </div>
      <!-- /.container -->
    </footer>
{% endblock %}



{%- block scripts %}

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Contact form JavaScript -->
    <!-- Do not edit these files! In order to set the email address and subject line for the contact form go to the bin/contact_me.php file. -->
    <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script>

{%- endblock scripts %}
